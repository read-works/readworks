import{a as b}from"./chunk-3L6YD2WL.js";import{b as D}from"./chunk-72JRBBZD.js";import{b as w,c as M}from"./chunk-G3MELPCC.js";import{a as g}from"./chunk-5ESBBNVT.js";import{b as T}from"./chunk-PM5VPY4S.js";import{L as p,N as a,U as u,Z as E,aa as S,ga as l,ka as i,la as s,ma as C,mb as O,na as m,oa as d,ob as N,pb as B,sa as k,ub as A,w as r,wa as R,xb as h,yb as f}from"./chunk-V52KVE3Z.js";function K(o,v){o&1&&C(0,"rw-loader");}function L(o,v){o&1&&(i(0,"rw-alert",7)(1,"div",9),k(2,1),s()()),o&2&&S("showCancelBtn",!1)("showConfirmBtn",!1)("type","info");}var F=(()=>{class o{router=r(N);route=r(O);searchService=r(w);subscriptionStorage=r(M);iaService=r(A);socket=r(g);isProcessing=!1;caseId;caseDeleted=!1;bookmarkDetailViewOpened=!1;iaLayer="screen-bookmarks"+new Date().getTime();constructor(){this.iaService.add(this.iaLayer),this.caseId=this.route.snapshot.params.caseId;let t=this.subscriptionStorage.getStore("screenCaseBookmarks");this.caseId&&(this.searchService.getCaseId()||this.searchService.setCaseId(this.caseId),t.push(this.socket.fromEvent("caseToDelete-"+this.caseId).subscribe(()=>{this.caseDeleted=!0,setTimeout(()=>{this.router.navigate(["/cases"],{replaceUrl:!0});},4500);})));}close(){!this.bookmarkDetailViewOpened&&this.iaService.is(this.iaLayer)&&this.router.navigate(["../"],{replaceUrl:!0,relativeTo:this.route});}ngOnDestroy(){this.subscriptionStorage.destroy("screenCaseBookmarks"),this.iaService.take(this.iaLayer);}static ɵfac=function(_){return new(_||o)();};static ɵcmp=u({type:o,selectors:[["rw-sub-screen-case-bookmarks"]],hostBindings:function(_,e){_&1&&R("keydown.escape",function(c){return e.close(c);},!1,p);},decls:9,vars:9,consts:()=>{let t;t="Close bookmark browser (ESC)";let _;_="Bookmarks";let e;return e="This case was deleted in another window. The case overview is now being opened...",[_,e,[3,"showQr","showNavigation"],["header",""],[1,"flex-grow","pl-3","md:pt-0","capitalize","text-2xl","md:text-4xl"],["title",t,"routerLink","../","icon","x-lg","styling","standard_outline",1,"mr-3"],["main",""],[3,"showCancelBtn","showConfirmBtn","type"],[3,"detailViewActive","escapeKeyPressed","showLightModeShadow","standalone","noHeadline","currentCase","currentDocument"],[1,"text-lg"]];},template:function(_,e){_&1&&(i(0,"rw-page",2),m(1,3),i(2,"h3",4),k(3,0),s(),E(4,K,1,0,"rw-loader"),C(5,"rw-button",5),d(),m(6,6),E(7,L,3,3,"rw-alert",7),i(8,"rw-bookmark-browser",8),R("detailViewActive",function(c){return e.bookmarkDetailViewOpened=c;})("escapeKeyPressed",function(){return e.close();}),s(),d(),s()),_&2&&(S("showQr",!e.isProcessing)("showNavigation",!0),a(4),l(e.isProcessing?4:-1),a(3),l(e.caseDeleted?7:-1),a(),S("showLightModeShadow",!0)("standalone",!0)("noHeadline",!0)("currentCase",e.caseId)("currentDocument",-1));},dependencies:[T,b,h,B,f,D],encapsulation:2});}return o;})();export{F as a};/**i18n:1964dde12af7df15d0053ab7761c4e4c56fe7eae085ef9e01bc7588ce5d2189d*/