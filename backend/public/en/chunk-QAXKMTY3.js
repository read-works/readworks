import{a as nt}from"./chunk-GVGBDAZ3.js";import{a as ze}from"./chunk-SPOPGUET.js";import{a as qe}from"./chunk-3L6YD2WL.js";import{a as et}from"./chunk-AQBS2ZYB.js";import{a as $}from"./chunk-O2ZDC4GV.js";import{a as H,d as tt,f as it}from"./chunk-FZYSEXYG.js";import{b as k,c as Xe,d as Ze,e as je,f as Qe,g as Je,h as z}from"./chunk-G3MELPCC.js";import{a as _e}from"./chunk-5ESBBNVT.js";import{b as Ye}from"./chunk-PM5VPY4S.js";import{$ as Te,A as c,Aa as we,Ba as ye,C as N,Ca as Ie,D as he,Da as le,E as ge,Ea as ce,Ha as xe,Ia as R,Ja as P,Ka as b,L as fe,La as ve,M as q,Ma as W,N as a,Na as V,O as Z,Oa as K,P as j,R as Ne,Ra as Pe,Sa as Le,U as f,V as Re,Va as be,W as De,Wa as Ue,Z as E,_a as de,aa as m,bb as Be,ca as O,cb as $e,da as Oe,db as ke,fb as He,ga as C,ha as y,hb as Ge,ia as I,ja as x,ka as _,l as G,la as r,ma as D,mb as We,na as se,oa as ae,ob as Ve,pa as p,pb as te,qa as Q,ra as J,s as Ce,sa as M,t as pe,ta as Me,tb as ne,ua as Fe,ub as ie,va as ee,vb as oe,w as g,wa as d,wb as Ke,xa as s,xb as A,y as Ee,ya as Ae,yb as B,z as l,za as Y}from"./chunk-V52KVE3Z.js";var ht=["fileSelector"],gt=i=>({openFileSelector:i});function ft(i,u){if(i&1&&(_(0,"div",8),R(1),r()),i&2){let e=s(2);a(),P(e.dropZoneLabel);}}function Nt(i,u){if(i&1){let e=p();_(0,"div")(1,"input",9),d("click",function(t){l(e);let o=s(2);return c(o.openFileSelector(t));}),r()();}if(i&2){let e=s(2);a(),we("value",e.browseBtnLabel),m("className",e.browseBtnClassName);}}function Rt(i,u){if(i&1&&E(0,ft,2,1,"div",6)(1,Nt,2,2,"div",7),i&2){let e=s();m("ngIf",e.dropZoneLabel),a(),m("ngIf",e.showBrowseBtn);}}function Dt(i,u){}var X=class{constructor(u,e){this.relativePath=u,this.fileEntry=e;}},ue=(()=>{class i{constructor(e){this.template=e;}static{this.ɵfac=function(n){return new(n||i)(Z(j));};}static{this.ɵdir=De({type:i,selectors:[["","ngx-file-drop-content-tmp",""]],standalone:!1});}}return i;})(),me=(()=>{class i{get disabled(){return this._disabled;}set disabled(e){this._disabled=e!=null&&`${e}`!="false";}constructor(e,n){this.zone=e,this.renderer=n,this.accept="*",this.directory=!1,this.multiple=!0,this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.useDragEnter=!1,this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new N(),this.onFileOver=new N(),this.onFileLeave=new N(),this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.openFileSelector=t=>{this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click();},this.globalDragStartListener=this.renderer.listen("document","dragstart",t=>{this.globalDraggingInProgress=!0;}),this.globalDragEndListener=this.renderer.listen("document","dragend",t=>{this.globalDraggingInProgress=!1;});}ngOnDestroy(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null;}onDragOver(e){this.useDragEnter?(this.preventAndStop(e),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")):!this.isDropzoneDisabled()&&!this.useDragEnter&&e.dataTransfer&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e),e.dataTransfer.dropEffect="copy");}onDragEnter(e){!this.isDropzoneDisabled()&&this.useDragEnter&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e));}onDragLeave(e){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(e)),this.preventAndStop(e));}dropFiles(e){if(!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,e.dataTransfer)){let n;e.dataTransfer.items?n=e.dataTransfer.items:n=e.dataTransfer.files,this.preventAndStop(e),this.checkFiles(n);}}uploadFiles(e){if(!this.isDropzoneDisabled()&&e.target){let n=e.target.files||[];this.checkFiles(n),this.resetFileInput();}}getFakeDropEntry(e){let n={name:e.name,isDirectory:!1,isFile:!0,file:t=>t(e)};return new X(n.name,n);}checkFile(e){if(e){if("webkitGetAsEntry"in e){let n=e.webkitGetAsEntry();if(n){if(n.isFile){let t=new X(n.name,n);this.addToQueue(t);}else n.isDirectory&&this.traverseFileTree(n,n.name);return;}}this.addToQueue(this.getFakeDropEntry(e));}}checkFiles(e){for(let n=0;n<e.length;n++)this.checkFile(e[n]);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=G(200,200).subscribe(()=>{if(this.files.length>0&&this.numOfActiveReadEntries===0){let n=this.files;this.files=[],this.onFileDrop.emit(n);}});}traverseFileTree(e,n){if(e.isFile){let t=new X(n,e);this.files.push(t);}else{n=n+"/";let t=e.createReader(),o=[],S=()=>{this.numOfActiveReadEntries++,t.readEntries(h=>{if(h.length)o=o.concat(h),S();else if(o.length===0){let T=new X(n,e);this.zone.run(()=>{this.addToQueue(T);});}else for(let T=0;T<o.length;T++)this.zone.run(()=>{this.traverseFileTree(o[T],n+o[T].name);});this.numOfActiveReadEntries--;});};S();}}resetFileInput(){if(this.fileSelector&&this.fileSelector.nativeElement){let e=this.fileSelector.nativeElement,n=e.parentElement,t=this.getHelperFormElement(),o=this.getFileInputPlaceholderElement();n!==t&&(this.renderer.insertBefore(n,o,e),this.renderer.appendChild(t,e),t.reset(),this.renderer.insertBefore(n,e,o),this.renderer.removeChild(n,o));}}getHelperFormElement(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl;}getFileInputPlaceholderElement(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl;}isDropzoneDisabled(){return this.globalDraggingInProgress||this.disabled;}addToQueue(e){this.files.push(e);}preventAndStop(e){e.stopPropagation(),e.preventDefault();}static{this.ɵfac=function(n){return new(n||i)(Z(he),Z(Ne));};}static{this.ɵcmp=f({type:i,selectors:[["ngx-file-drop"]],contentQueries:function(n,t,o){if(n&1&&ye(o,ue,5,j),n&2){let S;le(S=ce())&&(t.contentTemplate=S.first);}},viewQuery:function(n,t){if(n&1&&Ie(ht,7),n&2){let o;le(o=ce())&&(t.fileSelector=o.first);}},inputs:{accept:"accept",directory:"directory",multiple:"multiple",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",useDragEnter:"useDragEnter",contentClassName:"contentClassName",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel",disabled:"disabled"},outputs:{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},standalone:!1,decls:7,vars:15,consts:[["fileSelector",""],["defaultContentTemplate",""],[3,"drop","dragover","dragenter","dragleave","className"],[3,"className"],["type","file",1,"ngx-file-drop__file-input",3,"change","accept","multiple"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngx-file-drop__drop-zone-label",4,"ngIf"],[4,"ngIf"],[1,"ngx-file-drop__drop-zone-label"],["type","button",3,"click","className","value"]],template:function(n,t){if(n&1){let o=p();_(0,"div",2),d("drop",function(h){return l(o),c(t.dropFiles(h));})("dragover",function(h){return l(o),c(t.onDragOver(h));})("dragenter",function(h){return l(o),c(t.onDragEnter(h));})("dragleave",function(h){return l(o),c(t.onDragLeave(h));}),_(1,"div",3)(2,"input",4,0),d("change",function(h){return l(o),c(t.uploadFiles(h));}),r(),E(4,Rt,2,2,"ng-template",null,1,be)(6,Dt,0,0,"ng-template",5),r()();}if(n&2){let o=xe(5);O("ngx-file-drop__drop-zone--over",t.isDraggingOverDropZone),m("className",t.dropZoneClassName),a(),m("className",t.contentClassName),a(),m("accept",t.accept)("multiple",t.multiple),Te("directory",t.directory||void 0)("webkitdirectory",t.directory||void 0)("mozdirectory",t.directory||void 0)("msdirectory",t.directory||void 0)("odirectory",t.directory||void 0),a(4),m("ngTemplateOutlet",t.contentTemplate||o)("ngTemplateOutletContext",Pe(13,gt,t.openFileSelector));}},dependencies:[$e,ke],styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:#93939380}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"]});}}return i;})(),ot=(()=>{class i{static{this.ɵfac=function(n){return new(n||i)();};}static{this.ɵmod=Re({type:i,bootstrap:[me]});}static{this.ɵinj=pe({imports:[He]});}}return i;})();function Ot(i,u){if(i&1&&(_(0,"span",8),R(1),r()),i&2){let e=u.$implicit;a(),b("- ",e,"");}}function Mt(i,u){if(i&1){let e=p();_(0,"rw-alert",5),d("confirmation",function(){l(e);let t=s();return c(t.hasInvalids=[]);}),_(1,"div",6)(2,"span",7),M(3,0),r(),I(4,Ot,2,1,"span",8,y),r()();}if(i&2){let e=s();a(4),x(e.hasInvalids);}}function Ft(i,u){if(i&1){let e=p();_(0,"div",11)(1,"div",12),D(2,"img",13)(3,"img",14),_(4,"rw-button",15),d("click",function(){let t=l(e).openFileSelector;return c(t());}),r()()();}}function At(i,u){if(i&1){let e=p();_(0,"ngx-file-drop",9),d("onFileDrop",function(t){l(e);let o=s();return c(o.dropped(t));})("onFileOver",function(){l(e);let t=s();return c(t.fileOver());})("onFileLeave",function(){l(e);let t=s();return c(t.fileLeave());}),E(1,Ft,5,0,"ng-template",10),r();}i&2&&m("multiple",!0);}var _t=(()=>{class i{selectedFile=new N();closeFileUpload=new N();files=[];hasInvalids=[];readyForDrops=!0;filesCnt=0;closeInitiated;dropped(e){this.readyForDrops=!1,this.hasInvalids=[],this.files=e,this.filesCnt=this.files.length;for(let n of e)n.fileEntry.isFile&&n.fileEntry.file(o=>{o.type==="application/pdf"?(this.filesCnt--,this.selectedFile.emit({file:o,relativePath:n.relativePath})):(this.filesCnt--,this.hasInvalids.push(o.name));});requestAnimationFrame(()=>{this.readyForDrops=!0;});}fileOver(){clearTimeout(this.closeInitiated);}fileLeave(){clearTimeout(this.closeInitiated),this.closeInitiated=setTimeout(()=>{this.closeFileUpload.emit();},125);}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-upload"]],outputs:{selectedFile:"selectedFile",closeFileUpload:"closeFileUpload"},decls:4,vars:2,consts:()=>{let e;e="The following file(s) were not imported:";let n;n="Drag PDF file(s) onto this area or click the PDF icon.";let t;t="Drag PDF file(s) onto this area or click the PDF icon.";let o;return o="Select PDFs for import",[e,["type","warning"],["icon","x-lg","styling","standard_outline",1,"hidden","dark:block","absolute","top-[10px]","right-3",3,"clicked"],["icon","x-lg","styling","standard",1,"block","dark:hidden","absolute","top-[10px]","right-3",3,"clicked"],["dropZoneLabel","Drop files here","dropZoneClassName","slDropzone","accept","application/pdf",1,"h-screen","flex","items-center","overflow-hidden",3,"multiple"],["type","warning",3,"confirmation"],[1,"text-left"],[1,"block","font-bold","mb-3"],[1,"block"],["dropZoneLabel","Drop files here","dropZoneClassName","slDropzone","accept","application/pdf",1,"h-screen","flex","items-center","overflow-hidden",3,"onFileDrop","onFileOver","onFileLeave","multiple"],["ngx-file-drop-content-tmp",""],[1,""],[1,"transition-all","duration-200","text-2xl","md:text-4xl","lg:text-5xl","xl:text-6xl","text-white","font-light","text-center","grow"],["alt","upload area","src","assets/img/upload-section.png","title",n,1,"block","dark:hidden","h-[330px]"],["alt","upload area","src","assets/img/upload-section-dark.png","title",t,1,"hidden","dark:block","h-[330px]"],["type","button","icon","file-earmark-pdf","styling","standard","title",o,1,"scale-150","block","mx-auto","mt-12",3,"click"]];},template:function(n,t){n&1&&(E(0,Mt,6,0,"rw-alert",1),_(1,"rw-button",2),d("clicked",function(){return t.closeFileUpload.emit();}),r(),_(2,"rw-button",3),d("clicked",function(){return t.closeFileUpload.emit();}),r(),E(3,At,2,1,"ngx-file-drop",4)),n&2&&(C(t.filesCnt===0&&t.hasInvalids.length?0:-1),a(3),C(t.readyForDrops?3:-1));},dependencies:[B,A,ot,me,ue],encapsulation:2});}return i;})();var rt=(()=>{class i{documentService=g($);initiated=new N();debounceInitiated;upload(e){this.documentService.addToImportQueue(e),clearTimeout(this.debounceInitiated),this.debounceInitiated=setTimeout(()=>{this.initiated.emit();},50);}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-create-document"]],outputs:{initiated:"initiated"},decls:1,vars:0,consts:[[3,"selectedFile","closeFileUpload"]],template:function(n,t){n&1&&(_(0,"rw-upload",0),d("selectedFile",function(S){return t.upload(S.file);})("closeFileUpload",function(){return t.initiated.emit();}),r());},dependencies:[_t],encapsulation:2});}return i;})();var st=(()=>{class i{title;items;static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-divider"]],inputs:{title:"title",items:"items"},decls:6,vars:2,consts:[[1,"relative","mt-2","mb-4"],["aria-hidden","true",1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-slate-300","dark:border-slate-600"],[1,"relative","flex","justify-center"],[1,"px-3","bg-slate-50","dark:bg-slate-900","leading-tight","text-lg","font-normal","text-slate-900","dark:text-slate-50"]],template:function(n,t){n&1&&(_(0,"div",0)(1,"div",1),D(2,"div",2),r(),_(3,"div",3)(4,"span",4),R(5),r()()()),n&2&&(a(5),ve(" ",t.title," ",t.items&&t.items>0?" ("+t.items+") ":""," "));},encapsulation:2});}return i;})();var wt=[[["","docControls",""]],[["","docList",""]],[["","searchControls",""]],[["","searchList",""]]],yt=["[docControls]","[docList]","[searchControls]","[searchList]"],at=(()=>{class i{documentCount;searchCount;static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-dashboard"]],hostAttrs:[1,"md:grid","md:h-full","md:grid-cols-2"],inputs:{documentCount:"documentCount",searchCount:"searchCount"},ngContentSelectors:yt,decls:14,vars:2,consts:()=>{let e;e="Documents";let n;return n="Searches",[[1,"p-0.5","pb-0","overflow-hidden"],[1,"section","h-full","grid"],[1,"py-1.5"],["title",e,3,"items"],[1,"overflow-y-auto","mb-0.5"],["title",n,3,"items"],[1,"overflow-y-auto","pl-2","mb-0.5"]];},template:function(n,t){n&1&&(Ae(wt),_(0,"div",0)(1,"div",1)(2,"div",2),D(3,"rw-divider",3),Y(4),r(),_(5,"div",4),Y(6,1),r()()(),_(7,"div",0)(8,"div",1)(9,"div",2),D(10,"rw-divider",5),Y(11,2),r(),_(12,"div",6),Y(13,3),r()()()),n&2&&(a(3),m("items",t.documentCount),a(7),m("items",t.searchCount));},dependencies:[st],styles:[".section[_ngcontent-%COMP%]{grid-auto-columns:1fr;grid-template-rows:auto 1fr}"]});}return i;})();var lt=(()=>{class i{documentService=g($);searchForName="";sortDirection;sortByType;filterInUse=!1;debounceHandler;currentFileFilterInput=new N();constructor(){this.searchForName=this.documentService.getFilter().searchForName||"",this.sortDirection=this.documentService.getFilter().sortDirection,this.sortByType=this.documentService.getFilter().sortByType,this.detectFilterInUse();}applyFilter(e=350){this.detectFilterInUse(),this.debounceHandler&&clearTimeout(this.debounceHandler),this.debounceHandler=setTimeout(()=>{let n={searchForName:this.searchForName.length>=1?this.searchForName:void 0,sortDirection:this.sortDirection,sortByType:this.sortByType};this.documentService.setFilter(n);},e);}resetFilter(){this.documentService.resetFilter(),this.searchForName="",this.sortByType=this.documentService.getFilter().sortByType,this.sortDirection=this.documentService.getFilter().sortDirection,this.filterInUse=!1,this.currentFileFilterInput.next(this.searchForName);}detectFilterInUse(){this.filterInUse=!!(this.searchForName.length||this.sortDirection==="asc"||this.sortByType==="name");}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-filter-documents"]],outputs:{currentFileFilterInput:"currentFileFilterInput"},decls:6,vars:5,consts:()=>{let e;e="Filter files";let n;n="Enter a search pattern to reduce the list to only matching documents.";let t;t="Filter by name / date";let o;return o="Sorting direction",[[1,"flex","items-center","gap-3"],[1,"flex-grow"],["label",e,"placeholder",n,3,"valueChange","resetted","value","autoFocus","showResetControl"],[1,"border-2","p-1","shadow","dark:shadow-none","flex","gap-2","items-center","bg-indigo-100","dark:bg-black","border-indigo-100","dark:border-black","dark:bg-opacity-40","dark:border-opacity-0","rounded-lg"],["styling","standard_outline","title",t,3,"clicked","icon"],["styling","standard_outline","title",o,3,"clicked","icon"]];},template:function(n,t){n&1&&(_(0,"div",0)(1,"div",1)(2,"rw-input",2),K("valueChange",function(S){return V(t.searchForName,S)||(t.searchForName=S),S;}),d("valueChange",function(S){return t.applyFilter(),t.currentFileFilterInput.next(S);})("resetted",function(){return t.resetFilter();}),r()(),_(3,"div",3)(4,"rw-button",4),d("clicked",function(){return t.sortByType=t.sortByType==="date"?"name":"date",t.applyFilter();}),r(),_(5,"rw-button",5),d("clicked",function(){return t.sortDirection=t.sortDirection==="desc"?"asc":"desc",t.applyFilter();}),r()()()),n&2&&(a(2),W("value",t.searchForName),m("autoFocus",!1)("showResetControl",!0),a(2),m("icon",t.sortByType==="date"?"calendar":"list-ul"),a(),m("icon",t.sortDirection==="desc"?"sort-down":"sort-up"));},dependencies:[z,A],encapsulation:2});}return i;})();var ct=(()=>{class i{searchMatches=ge.required();colorString="";style="";ngOnInit(){let e=0,n=0,t=this.searchMatches();if(t.forEach(o=>{e+=o.documentMatchCount||0;}),t.length===1){let o=t[0];this.colorString=`#${o.color} 0% 100%`;}else t.forEach(o=>{let h=(o.documentMatchCount||0||1e-4)*100/e,T=n,U=n+h;this.colorString+=`#${o.color} ${T}%, #${o.color} ${U}%, `,n=U;}),this.colorString=this.colorString.substring(0,this.colorString.length-2);this.style=`background: linear-gradient(to right, ${this.colorString});`;}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-search-match-insights"]],hostAttrs:[1,"block","mt-[5px]","h-[16px]","bg-indigo-950/90","rounded","w-full","overflow-hidden"],inputs:{searchMatches:[1,"searchMatches"]},decls:1,vars:2,consts:[[1,"w-full","h-full","transition-all","duration-300"]],template:function(n,t){n&1&&D(0,"div",0),n&2&&Oe(t.style);},encapsulation:2});}return i;})();function It(i,u){if(i&1){let e=p();_(0,"rw-alert",6),d("cancellation",function(){l(e);let t=s();return c(t.showConfirmation=void 0);})("confirmation",function(){l(e);let t=s();return c(t.delete(t.showConfirmation));}),M(1,0),r();}i&2&&m("fastLaneAllowed",!0)("showCancelBtn",!0);}function xt(i,u){if(i&1){let e=p();_(0,"div",7)(1,"div",8)(2,"div",9)(3,"h3",10),M(4,1),r(),_(5,"div",11)(6,"rw-button",12),d("clicked",function(){l(e);let t=s();return c(t.setHintRead());}),r()()(),_(7,"div",13)(8,"p",14),Q(9,2),D(10,"br")(11,"br")(12,"br")(13,"br"),J(),r()()()();}if(i&2){let e=s();O("opacity-100",e.ready);}}function vt(i,u){if(i&1&&(_(0,"span"),R(1),r()),i&2){let e=s(3).$implicit;a(),P(e.originalName.replace(".pdf",""));}}function Pt(i,u){if(i&1&&(_(0,"span",23),R(1),r()),i&2){let e=s(3).$implicit;O("text-xs",e.originalName.length>25),a(),b(" ",e.originalName.replace(".pdf","")," ");}}function Lt(i,u){if(i&1&&D(0,"rw-progress-bar",21),i&2){let e=s(3).$implicit,n=s();m("small",!0)("percentCompleted",n.documentProcessingInfo[e.id]);}}function bt(i,u){if(i&1&&D(0,"rw-color-dot",30),i&2){let e=u.$implicit,n=s(5).$implicit,t=s();O("z-20",!!t.currentSearchInSearchInput.length&&t.isMatchingSearchString(e.query)),m("highlight",!!t.currentSearchInSearchInput.length&&t.isMatchingSearchString(e.query))("routerLink","pages/"+n.id+"/"+e.id)("size",n.searchMatches.length>18?2:3)("label",e.query)("color",e.color)("decent",t.currentSearchInSearchInput.length!==0&&!t.isMatchingSearchString(e.query))("interactive",!0)("matches",e.documentMatchCount);}}function Ut(i,u){if(i&1&&I(0,bt,1,10,"rw-color-dot",29,y),i&2){let e=s(4).$implicit;x(e.searchMatches);}}function Bt(i,u){if(i&1&&D(0,"rw-search-match-insights",26),i&2){let e=s(4).$implicit;m("searchMatches",e.searchMatches);}}function $t(i,u){if(i&1){let e=p();_(0,"rw-button",31),d("clicked",function(){l(e);let t=s(4).$implicit,o=s();return c(o.showConfirmation=t.id);}),r();}i&2&&m("error",!0);}function kt(i,u){if(i&1){let e=p();_(0,"div",22)(1,"div",24)(2,"div",25),d("click",function(){l(e);let t=s(4);return c(t.toggleMode());}),R(3),r(),E(4,Ut,2,0)(5,Bt,1,1,"rw-search-match-insights",26),r(),_(6,"div",27),E(7,$t,1,1,"rw-button",28),r()();}if(i&2){let e=s(3).$implicit,n=s();a(),O("lessLineHeight",e.searchMatches.length<=18)("noLineHeight",e.searchMatches.length>18),a(2),b(" ",n.effectiveMode," "),a(),C(n.effectiveMode===n.hitsText?4:-1),a(),C(e.searchMatches.length&&n.effectiveMode===n.distributionText?5:-1),a(2),C(e.processed?7:-1);}}function Ht(i,u){if(i&1&&(_(0,"div",18)(1,"div",19),E(2,vt,2,1,"span")(3,Pt,2,3,"span",20)(4,Lt,1,2,"rw-progress-bar",21),r(),E(5,kt,8,8,"div",22),r()),i&2){let e=s(2).$implicit,n=s();O("py-2",!e.processed),a(),O("processing",!e.processed),m("routerLink","pages/"+e.id),a(),C(e.processed?-1:2),a(),C(e.processed?3:-1),a(),C(!e.processed&&n.documentProcessingInfo&&n.documentProcessingInfo[e.id]?4:-1),a(),C(e.processed?5:-1);}}function Gt(i,u){if(i&1){let e=p();_(0,"li",16),d("visibilityChange",function(t){l(e);let o=s().$implicit;return c(o.onStage=t==="OnStage");}),E(1,Ht,6,9,"div",17),r();}if(i&2){let e=s().$implicit;O("dark:border",!e.processed),a(),C(e.onStage?1:-1);}}function Wt(i,u){if(i&1&&E(0,Gt,2,3,"li",15),i&2){let e=u.$implicit,n=s();C(!e.processed||!n.permanentFilteredDocuments||n.permanentFilteredDocuments&&n.hasCurrentSearchString(e)?0:-1);}}var Se="documentEffectiveMode",dt=(()=>{class i{documentService=g($);settingsService=g(ne);documents;documentProcessingInfo={};permanentFilteredDocuments=!1;currentSearchInSearchInput="";isFiltering=!1;showConfirmation;hasProcessedDocuments=!1;hintRead=!1;ready=!1;hitsText="Hits";distributionText="Distribution";effectiveMode=this.hitsText;constructor(){localStorage.getItem(Se)&&(this.effectiveMode=localStorage.getItem(Se)||this.effectiveMode);}ngOnInit(){this.hintRead=!!this.settingsService.settings?.hiddenDocumentHintRead,this.checkForProcessedDocuments(),G(1e3).subscribe(()=>this.ready=!0);}ngOnChanges(){this.checkForProcessedDocuments();}toggleMode(){this.effectiveMode===this.hitsText?this.effectiveMode=this.distributionText:this.effectiveMode=this.hitsText,localStorage.setItem(Se,this.effectiveMode);}delete(e){e&&requestAnimationFrame(()=>{this.showConfirmation?(this.documentService.delete(typeof this.showConfirmation=="string"?parseInt(this.showConfirmation,10):this.showConfirmation),this.showConfirmation=void 0):this.showConfirmation=e;});}checkForProcessedDocuments(){this.documents.some(e=>(this.hasProcessedDocuments=e.processed,e.processed));}hasCurrentSearchString(e){return e.searchMatches?e.searchMatches.some(n=>this.isMatchingSearchString(n.query)):!1;}isMatchingSearchString(e){return e.toLowerCase()===this.currentSearchInSearchInput.toLocaleLowerCase();}setHintRead(){this.settingsService.updateSettingsItem("hiddenDocumentHintRead",!0),this.hintRead=!0;}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-list-documents"]],inputs:{documents:"documents",documentProcessingInfo:"documentProcessingInfo",permanentFilteredDocuments:"permanentFilteredDocuments",currentSearchInSearchInput:"currentSearchInSearchInput",isFiltering:"isFiltering"},features:[Ee],decls:5,vars:4,consts:()=>{let e;e=" Confirm document deletion.";let n;n=" Import your first PDF document(s). ";let t;t="Click the \"+\"-Button in the top right or drag PDFs directly onto the window to unleash the power of readworks. "+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD|\uFFFD#12\uFFFD\uFFFD/#12\uFFFD|\uFFFD#13\uFFFD\uFFFD/#13\uFFFD]"+""+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD|\uFFFD#12\uFFFD\uFFFD/#12\uFFFD|\uFFFD#13\uFFFD\uFFFD/#13\uFFFD]"+" During import, readworks preprocesses documents for fast performance in your upcoming research operations."+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD|\uFFFD#12\uFFFD\uFFFD/#12\uFFFD|\uFFFD#13\uFFFD\uFFFD/#13\uFFFD]"+""+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD|\uFFFD#12\uFFFD\uFFFD/#12\uFFFD|\uFFFD#13\uFFFD\uFFFD/#13\uFFFD]"+"Once import is complete, matches are highlighted as colored dots on the documents, allowing effortless exploration of your findings.",t=ee(t);let o;return o="Delete document",[e,n,t,["type","warning",3,"fastLaneAllowed","showCancelBtn"],[1,"mt-[2px]","opacity-0","transition-opacity","duration-1000","select-none",3,"opacity-100"],["role","list",1,"list","pb-16","overflow-x-hidden","grid","grid-cols-1","gap-x-1.5","space-y-0.5","gap-y-0.5"],["type","warning",3,"cancellation","confirmation","fastLaneAllowed","showCancelBtn"],[1,"mt-[2px]","opacity-0","transition-opacity","duration-1000","select-none"],[1,"border-2","border-indigo-600","rounded","bg-indigo-400/25","dark:bg-indigo-700/25"],[1,"flex"],[1,"grow","text-2xl","pt-4","pl-4","text-indigo-800","dark:text-indigo-500","font-normal"],[1,"text-right","pt-1"],["styling","standard_outline","icon","x-lg",1,"scale-50","inline-block",3,"clicked"],[1,"p-4"],[1,"pr-16","text-xl","font-light"],["rwIntersectionObserver","",1,"min-h-14","shadow","dark:shadow-none","rounded-md","border-slate-800",3,"dark:border"],["rwIntersectionObserver","",1,"min-h-14","shadow","dark:shadow-none","rounded-md","border-slate-800",3,"visibilityChange"],[1,"custom-grid","grid","min-h-[60px]","h-full",3,"py-2"],[1,"custom-grid","grid","min-h-[60px]","h-full"],[1,"documentName","px-2","rounded-l-md","overflow-hidden","select-none","leading-4",3,"routerLink"],[1,"cursor-pointer",3,"text-xs"],[3,"small","percentCompleted"],[1,"flex","items-center","bg-indigo-200","dark:bg-indigo-900","rounded-tr-md","rounded-br-md"],[1,"cursor-pointer"],[1,"p-0","border-l-2","border-indigo-700","mr-1","h-full","w-24","pt-0.5","pl-1","pb-0.5","rounded-tr-md","rounded-br-md"],[1,"transition-colors","duration-100","rounded","cursor-pointer","text-xs","text-indigo-600","hover:text-indigo-800","dark:hover:text-indigo-400","dark:text-indigo-500","leading-tight","scale-90","origin-left","select-none",3,"click"],[3,"searchMatches"],[1,"whitespace-nowrap","pr-2","py-2"],["title",o,"styling","standard_outline","icon","trash3",1,"ml-1","md:inline-block",3,"error"],[1,"relative",3,"z-20","highlight","routerLink","size","label","color","decent","interactive","matches"],[1,"relative",3,"highlight","routerLink","size","label","color","decent","interactive","matches"],["title",o,"styling","standard_outline","icon","trash3",1,"ml-1","md:inline-block",3,"clicked","error"]];},template:function(n,t){n&1&&(E(0,It,2,2,"rw-alert",3)(1,xt,14,2,"div",4),_(2,"ul",5),I(3,Wt,1,1,null,null,y),r()),n&2&&(C(t.showConfirmation?0:-1),a(),C(!t.documents.length&&!t.hintRead&&!t.isFiltering?1:-1),a(),O("overflow-y-scroll",t.documents.length>3),a(),x(t.documents));},dependencies:[B,A,tt,te,nt,it,ct],styles:[".noLineHeight[_ngcontent-%COMP%]{line-height:.5rem}.lessLineHeight[_ngcontent-%COMP%]{line-height:.8rem}.documentName[_ngcontent-%COMP%]:not(.processing){display:flex;flex-grow:1;cursor:pointer;align-items:center;--tw-border-opacity: 1;border-color:rgb(30 41 59 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.documentName[_ngcontent-%COMP%]:not(.processing):hover{--tw-bg-opacity: 1;background-color:rgb(240 249 255 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.documentName[_ngcontent-%COMP%]:not(.processing){border-width:1px;border-right-width:0px;background-color:#0003}.documentName[_ngcontent-%COMP%]:not(.processing):hover{background-color:#0ea5e91a}}.documentName.processing[_ngcontent-%COMP%]{pointer-events:none}.documentName.processing[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;width:100%}.custom-grid[_ngcontent-%COMP%]{grid-template-columns:1fr auto}@media screen and (min-width: 1400px){.list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{margin-top:2px}}"]});}return i;})();function Vt(i,u){if(i&1){let e=p();_(0,"rw-alert",9),d("confirmation",function(){l(e);let t=s();return t.hasError=!1,c(t.query="");}),M(1,0),r();}i&2&&m("showCancelBtn",!1)("type","error");}function Kt(i,u){if(i&1){let e=p();_(0,"rw-alert",9),d("confirmation",function(){l(e);let t=s();return c(t.hideHint());}),_(1,"h3",10),M(2,1),r(),_(3,"span"),M(4,2),r()();}i&2&&m("showCancelBtn",!1)("type","info");}function zt(i,u){if(i&1){let e=p();_(0,"rw-input",11),K("valueChange",function(t){l(e);let o=s();return V(o.query,t)||(o.query=t),c(t);}),d("valueChange",function(t){l(e);let o=s();return c(o.handleChange(t));})("resetted",function(){l(e);let t=s();return t.handleChange(""),c(t.query="");}),r();}if(i&2){let e=s();W("value",e.query),m("autoFocus",!0)("showResetControl",!0);}}var ut=(()=>{class i{searchService=g(k);searches=0;inputChange=new N();submitted=new N();query="";submitting=!1;hasError=!1;showHint=!1;showInput=!0;ngOnInit(){this.searchService.subscribeToInitiateBulkSearch().subscribe(()=>{this.query="",this.showInput=!1,this.handleChange(""),setTimeout(()=>this.showInput=!0,10);});}handleChange(e){e.match(/(\s|\.|\+)/)&&(e=e.replace(/(\s|\.|\+)/g,""),this.showHint=!0,requestAnimationFrame(()=>{this.query=e;})),this.inputChange.emit(e);}save(){!this.showHint&&this.query&&this.query.length&&(this.submitting=!0,this.searchService.create(this.query),this.query="",this.inputChange.next(this.query),this.submitted.next());}hideHint(){requestAnimationFrame(()=>{this.showHint=!1;});}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-create-search"]],inputs:{searches:"searches"},outputs:{inputChange:"inputChange",submitted:"submitted"},decls:7,vars:5,consts:()=>{let e;e="Enter search here";let n;n="Search query";let t;t="Search in documents";let o;o="This search already exists within this case.";let S;S="The readworks search function only accepts a single word.";let h;return h=" Therefore, you cannot input multiple words simultaneously or create compound words using delimiters such as '-', for example. ",[o,S,h,[3,"showCancelBtn","type"],[3,"submit"],[1,"flex","items-center","gap-2"],["id","search","placeholder",e,"label",n,"inputType","text",1,"grow",3,"value","autoFocus","showResetControl"],[1,"p-1.5","rounded-lg",3,"rwColorize"],["type","submit","icon","search","title",t,1,"disabled:opacity-10",3,"disabled"],[3,"confirmation","showCancelBtn","type"],[1,"text-lg","font-bold","mb-2"],["id","search","placeholder",e,"label",n,"inputType","text",1,"grow",3,"valueChange","resetted","value","autoFocus","showResetControl"]];},template:function(n,t){n&1&&(E(0,Vt,2,2,"rw-alert",3)(1,Kt,5,2,"rw-alert",3),_(2,"form",4),d("submit",function(){return t.save();}),_(3,"div",5),E(4,zt,1,3,"rw-input",6),_(5,"div",7),D(6,"rw-button",8),r()()()),n&2&&(C(t.hasError?0:-1),a(),C(t.showHint?1:-1),a(3),C(t.showInput?4:-1),a(),m("rwColorize",t.query),a(),m("disabled",!t.query||!t.query.length));},dependencies:[B,Je,Qe,Ze,je,z,H,A],encapsulation:2});}return i;})();var re=(()=>{class i{http=g(Ge);fetchGroupsByWord(e){return this.http.get(`${de.api}lwm/groups/${e}`);}fetchGroupWordsByWordIdAndGroupName(e,n){return this.http.get(`${de.api}lwm/group-words/${e}/${n}`);}static ɵfac=function(n){return new(n||i)();};static ɵprov=Ce({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Xt=(i,u)=>({"border-green-400":i,"border-transparent":u});function Yt(i,u){if(i&1){let e=p();_(0,"div",2)(1,"span",3),R(2),r(),_(3,"rw-button",4),d("clicked",function(){let t=l(e).$implicit,o=s();return c(o.selection.emit(t.w));}),r(),_(4,"rw-button",5),d("clicked",function(){let t=l(e).$implicit,o=s();return c(o.lookup.emit(t.w));}),r()();}if(i&2){let e=u.$implicit,n=s();O("hidden",n.ignoreWords.includes(e.w)&&!1),m("rwColorize",e.w)("alpha",n.ignoreWords.includes(e.w)?.5:1)("ngClass",Le(8,Xt,n.ignoreWords.includes(e.w),!n.ignoreWords.includes(e.w))),a(2),P(e.w),a(),m("disabled",n.ignoreWords.includes(e.w)),a(),m("disabled",n.discoveryPath.includes(e.w));}}var mt=(()=>{class i{synonymService=g(re);wordId;groupName;ignoreWords=[];discoveryPath=[];selection=new N();lookup=new N();groupWords;ngOnInit(){this.fetchGroupWords();}fetchGroupWords(){this.synonymService.fetchGroupWordsByWordIdAndGroupName(this.wordId,this.groupName).subscribe(e=>{this.groupWords=e;});}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-find-synonyms-list"]],inputs:{wordId:"wordId",groupName:"groupName",ignoreWords:"ignoreWords",discoveryPath:"discoveryPath"},outputs:{selection:"selection",lookup:"lookup"},decls:3,vars:0,consts:()=>{let e;e="Add as extened search";let n;return n="Lookup related words",[[1,"flex","flex-wrap","mt-3","overflow-hidden","overflow-y-auto"],[1,"transition-all","duration-300","rounded","h-8","flex","items-center","mr-3","mb-3","last:mr-0","border-2","border-op",3,"rwColorize","alpha","hidden","ngClass"],[1,"transition-all","duration-300","rounded","h-8","flex","items-center","mr-3","mb-3","last:mr-0","border-2","border-op",3,"rwColorize","alpha","ngClass"],[1,"pl-1.5","grow"],["icon","plus-lg","title",e,1,"scale-50","inline-block","shadow-lg",3,"clicked","disabled"],["icon","diagram-3","title",n,1,"scale-50","inline-block","-ml-5","-mr-1.5","shadow-lg",3,"clicked","disabled"]];},template:function(n,t){n&1&&(_(0,"div",0),I(1,Yt,5,11,"div",1,y),r()),n&2&&(a(),x(t.groupWords));},dependencies:[H,Be,A],encapsulation:2});}return i;})();function qt(i,u){if(i&1){let e=p();_(0,"div",12)(1,"span",17),R(2),r(),_(3,"rw-button",18),d("clicked",function(){let t=l(e).$index,o=s(2);return c(o.extendedWords.splice(t,1));}),r()();}if(i&2){let e=u.$implicit;m("rwColorize",e),a(2),P(e);}}function Zt(i,u){if(i&1){let e=p();_(0,"span",22),d("mouseenter",function(){let t=l(e).$index,o=s(3);return c(o.hideDiscoveryItemsBehindIndex=t);})("mouseleave",function(){l(e);let t=s(3);return c(t.hideDiscoveryItemsBehindIndex=null);})("click",function(){let t=l(e).$index,o=s(3);return o.moveBackToIndex(t),c(o.hideDiscoveryItemsBehindIndex=null);}),R(1),r();}if(i&2){let e=u.$implicit,n=u.$index,t=s(3);O("pointer-events-none",t.discoveryPath.length-1===n)("opacity-30",t.hideDiscoveryItemsBehindIndex!==null&&n>t.hideDiscoveryItemsBehindIndex),m("rwColorize",e),a(),P(e);}}function jt(i,u){if(i&1&&(_(0,"div",15)(1,"span",19),M(2,2),r(),_(3,"div",20),I(4,Zt,2,6,"span",21,y),r()()),i&2){let e=s(2);a(4),x(e.discoveryPath);}}function Qt(i,u){if(i&1){let e=p();_(0,"div",23)(1,"div",24),M(2,3),r(),_(3,"rw-find-synonyms-list",25),d("selection",function(t){l(e);let o=s(3);return c(o.extendedWords.push(t));})("lookup",function(t){l(e);let o=s(3);return c(o.lookup(t));}),r()();}if(i&2){let e=u.$implicit,n=s(3);a(2),Me(e),Fe(2),a(),m("groupName",e)("wordId",n.synonymGroups[0].id)("ignoreWords",n.extendedWords)("discoveryPath",n.discoveryPath);}}function Jt(i,u){if(i&1&&(_(0,"div",16),I(1,Qt,4,5,"div",23,y),r()),i&2){let e=s(2);a(),x(e.synonymGroups[0].groups);}}function en(i,u){if(i&1){let e=p();_(0,"rw-overlay")(1,"div",4)(2,"div",5)(3,"h3",6),M(4,0),r(),_(5,"rw-button",7),d("clicked",function(){l(e);let t=s();return c(t.close.emit());}),r()(),_(6,"div",8)(7,"div",9)(8,"div",10)(9,"span"),M(10,1),r(),_(11,"div",11),I(12,qt,4,2,"div",12,y),r()(),_(14,"div",13)(15,"rw-button",14),d("clicked",function(){l(e);let t=s();return c(t.createSearch());}),r()()(),E(16,jt,6,0,"div",15)(17,Jt,3,0,"div",16),r()()();}if(i&2){let e=s();a(12),x(e.extendedWords),a(4),C(e.discoveryPath.length>1?16:-1),a(),C(e.synonymGroups&&e.synonymGroups[0]?17:-1);}}var St=(()=>{class i{searchService=g(k);synonymService=g(re);iaService=g(ie);socket=g(_e);rootWord;close=new N();closeView(){this.iaService.is(this.iaLayer)&&this.close.next();}synonymGroups;extendedWords=[];originWord;discoveryPath=[];hideDiscoveryItemsBehindIndex=null;iaLayer="find-synonyms-"+new Date().getTime();constructor(){this.iaService.add(this.iaLayer);}ngOnInit(){this.originWord=this.rootWord,this.extendedWords.push(this.originWord),this.discoveryPath.push(this.originWord),this.lookup();}lookup(e){e&&(this.rootWord=e,this.discoveryPath.includes(e)||this.discoveryPath.push(e)),this.synonymService.fetchGroupsByWord(this.rootWord).subscribe(n=>{this.synonymGroups=n;});}createSearch(){this.searchService.initiateBulkSearch(),this.extendedWords.forEach(e=>{this.searchService.create(e);}),this.close.next();}moveBackToIndex(e){if(this.lookup(this.discoveryPath[e]),this.discoveryPath.length===1)return;let n=this.discoveryPath.length-(e+1);this.discoveryPath.splice(e+1,n);}ngOnDestroy(){this.iaService.take(this.iaLayer);}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-find-synonyms"]],hostBindings:function(n,t){n&1&&d("keydown.escape",function(S){return t.closeView(S);},!1,q);},inputs:{rootWord:"rootWord"},outputs:{close:"close"},decls:1,vars:1,consts:()=>{let e;e="Close assisted discovery extender";let n;n="Start extended search";let t;t=" Assisted Discovery Extender ";let o;o="Search for:";let S;S="Remove from extended search";let h;h="Jump back to word";let T;T="Discovery path:";let U;return U="Meaning: "+"\uFFFD0\uFFFD"+"",[t,o,T,U,[1,"flex-1","flex","flex-col","overflow-hidden","h-full"],[1,"relative","z-10","flex-shrink-0","h-16","text-white","border-b","border-slate-200","dark:border-slate-700","shadow-sm","flex","items-center"],[1,"transition-all","duration-75","grow","pl-3","text-base","sm:text-lg","md:text-2xl"],["icon","x-lg","title",e,"styling","standard_outline",1,"mr-3",3,"clicked"],[1,"px-3","grid","custom-grid-config","overflow-auto","h-full"],[1,"flex","rounded-lg","p-3","pb-2","mt-3","mb-6","text-indigo-200","border-2","border-indigo-500/25","items-end"],[1,"grow","h-[136px]"],[1,"flex","flex-wrap","mt-3","max-h-[84px]","overflow-hidden","overflow-y-auto"],[1,"rounded","h-8","flex","items-center","mr-3","mb-3","last:mr-0",3,"rwColorize"],[1,"pl-3"],["icon","search","title",n,3,"clicked"],[1,"rounded-lg","px-3","py-0","mb-3","border-2","border-indigo-500/25"],[1,"w-full","grid","grid-cols-3","gap-2","overflow-auto","pr-3","pb-3"],[1,"pl-1.5","grow"],["icon","x-lg","title",S,1,"scale-50","inline-block","-mr-1.5",3,"clicked"],[1,"text-xs","text-white"],[1,"pb-1.5"],["title",h,1,"text-xs","px-1.5","cursor-pointer","inline-block","-skew-x-12","transition-all",3,"rwColorize","pointer-events-none","opacity-30"],["title",h,1,"text-xs","px-1.5","cursor-pointer","inline-block","-skew-x-12","transition-all",3,"mouseenter","mouseleave","click","rwColorize"],[1,"p-3","rounded-lg","border-2","border-indigo-500/25"],[1,"text-white","text-sm"],[3,"selection","lookup","groupName","wordId","ignoreWords","discoveryPath"]];},template:function(n,t){n&1&&E(0,en,18,2,"rw-overlay"),n&2&&C(t.rootWord?0:-1);},dependencies:[oe,A,H,mt],styles:[".custom-grid-config[_ngcontent-%COMP%]{grid-auto-columns:1fr;grid-template-rows:auto auto 1fr}"]});}return i;})();function tn(i,u){if(i&1){let e=p();_(0,"rw-create-search",5),d("inputChange",function(t){l(e);let o=s();return c(o.showYetMatching(t));}),r();}if(i&2){let e=s();m("searches",e.searches.length);}}function nn(i,u){if(i&1){let e=p();_(0,"rw-button",6),d("clicked",function(){l(e);let t=s();return c(t.searchMatchDistribution.next());}),r();}}function on(i,u){if(i&1){let e=p();_(0,"rw-find-synonyms",7),d("onClose",function(){l(e);let t=s();return c(t.showSynonymFinder=!1);}),r();}if(i&2){let e=s();m("rootWord",e.currentSearchStringInInput);}}var Ct=(()=>{class i{searches;currentSearch=new N();searchMatchDistribution=new N();currentSearchStringInInput="";showSynonymFinder=!1;showYetMatching(e){this.currentSearchStringInInput=e,this.currentSearch.emit(e);}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-filter-or-create-searches"]],inputs:{searches:"searches"},outputs:{currentSearch:"currentSearch",searchMatchDistribution:"searchMatchDistribution"},decls:5,vars:4,consts:()=>{let e;e="Consider related words";let n;return n="Global search result distribution",[[1,"pl-2","pr-4","rounded-md","items-center","flex"],[1,"grow",3,"searches"],["title",e,"icon","vignette",1,"ml-3",3,"clicked","disabled"],["title",n,"icon","bar-chart",1,"ml-3"],[3,"rootWord"],[1,"grow",3,"inputChange","searches"],["title",n,"icon","bar-chart",1,"ml-3",3,"clicked"],[3,"onClose","rootWord"]];},template:function(n,t){n&1&&(_(0,"div",0),E(1,tn,1,1,"rw-create-search",1),_(2,"rw-button",2),d("clicked",function(){return t.showSynonymFinder=!0;}),r(),E(3,nn,1,0,"rw-button",3)(4,on,1,1,"rw-find-synonyms",4),r()),n&2&&(a(),C(t.searches?1:-1),a(),m("disabled",!t.currentSearchStringInInput.length),a(),C(t.searches.length?3:-1),a(),C(t.showSynonymFinder?4:-1));},dependencies:[ut,A,St],encapsulation:2});}return i;})();var pt=(()=>{class i{search;counter;ngOnInit(){this.setCount();}setCount(e){if(e===void 0){this.counter=this.search.foundCount;return;}this.counter=e;}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-search-item-meta"]],hostAttrs:[1,"transition-all","duration-500","text-xs","w-20","py-0.5","flex"],inputs:{search:"search"},decls:7,vars:13,consts:()=>{let e;e="Total hits";let n;n="Documents having hits";let t;return t="Pages containing hits",[[1,"my-px"],["icon","search","size","xsmall","title",e,1,"-ml-1","block",3,"mouseover","mouseout"],["icon","file-earmark-pdf-fill","title",n,"size","xsmall",1,"opacity-50","hover:opacity-100","-ml-1","block",3,"mouseover","mouseout"],["icon","files","title",t,"size","xsmall",1,"opacity-50","hover:opacity-100","-ml-1","block",3,"mouseover","mouseout"],[1,"grow","flex","items-center"],[1,"grow","pr-1","text-xl","text-right","transition-all","duration-100","font-semibold"]];},template:function(n,t){n&1&&(_(0,"div",0)(1,"rw-icon",1),d("mouseover",function(){return t.setCount(t.search.foundCount);})("mouseout",function(){return t.setCount();}),r(),_(2,"rw-icon",2),d("mouseover",function(){return t.setCount(t.search.documentCount);})("mouseout",function(){return t.setCount();}),r(),_(3,"rw-icon",3),d("mouseover",function(){return t.setCount(t.search.pageCount);})("mouseout",function(){return t.setCount();}),r()(),_(4,"div",4)(5,"div",5),R(6),r()()),n&2&&(a(5),O("opacity-0",t.counter===void 0)("text-4xl",(t.counter||t.counter===0)&&t.counter.toString().length===1)("text-3xl",t.counter&&t.counter.toString().length===2)("text-2xl",t.counter&&t.counter.toString().length===3)("text-xl",t.counter&&t.counter.toString().length===4)("text-lg",t.counter&&t.counter.toString().length===5),a(),b(" ",t.counter," "));},dependencies:[Ke],encapsulation:2});}return i;})();function _n(i,u){if(i&1){let e=p();_(0,"rw-alert",6),d("cancellation",function(){l(e);let t=s();return c(t.showConfirmation=void 0);})("confirmation",function(){l(e);let t=s();return c(t.delete(t.showConfirmation[0],t.showConfirmation[1]));}),M(1,0),r();}i&2&&m("fastLaneAllowed",!0)("showCancelBtn",!0);}function rn(i,u){if(i&1){let e=p();_(0,"div",7)(1,"div",8)(2,"div",9)(3,"h3",10),M(4,1),r(),_(5,"div",11)(6,"rw-button",12),d("clicked",function(){l(e);let t=s();return c(t.setHintRead());}),r()()(),_(7,"div",13)(8,"p",14),Q(9,2),D(10,"br")(11,"br"),J(),r()()()();}if(i&2){let e=s();O("opacity-100",e.ready);}}function sn(i,u){if(i&1){let e=p();_(0,"rw-button",26),d("clicked",function(){l(e);let t=s(2).$implicit,o=s();return c(o.setPermanentFilter(t.query));}),r();}if(i&2){let e=s(2).$implicit,n=s();m("styling",!n.currentPermanentFilter.length||n.currentPermanentFilter!==e.query?"standard_outline":"main");}}function an(i,u){if(i&1){let e=p();_(0,"rw-button",27),d("clicked",function(){l(e);let t=s(2).$implicit,o=s();return c(o.delete(t.id,t.query));}),r();}i&2&&m("error",!0);}function ln(i,u){if(i&1){let e=p();_(0,"li",15)(1,"div",16)(2,"div",17),d("mouseover",function(){l(e);let t=s().$implicit,o=s();return c(o.highlightRelatedDocuments(t,"show"));})("mouseout",function(){l(e);let t=s().$implicit,o=s();return c(o.highlightRelatedDocuments(t,"hide"));}),D(3,"rw-search-item-meta",18),r(),_(4,"div",19)(5,"div",20)(6,"div",21)(7,"span",22),R(8),r()()(),_(9,"div",23),E(10,sn,1,1,"rw-button",24)(11,an,1,1,"rw-button",25),r()()()();}if(i&2){let e=s().$implicit;a(2),O("animate-pulse",e.processing),m("rwColorize",e.processing?e.query:e.color),a(),O("opacity-0",e.processing),m("search",e),a(5),b(" ",e.query," "),a(2),C(e.processing?-1:10),a(),C(e.processing?-1:11);}}function cn(i,u){if(i&1&&E(0,ln,12,9,"li",15),i&2){let e=u.$implicit,n=s();C(!n.currentSearchStringInInput.length||e.query.toLocaleLowerCase().indexOf(n.currentSearchStringInInput.toLocaleLowerCase())===0?0:-1);}}var Et=(()=>{class i{searchService=g(k);settingsService=g(ne);searches;mouseoverSearch=new N();permanentFilterApplied=new N();showConfirmation;currentSearchStringInInput="";Math=Math;currentPermanentFilter="";timeoutHandler;ready=!1;ngOnInit(){G(1e3).subscribe(()=>this.ready=!0);}delete(e,n){this.showConfirmation?requestAnimationFrame(()=>{!this.showConfirmation||!this.showConfirmation[0]||(this.searchService.delete(parseInt(this.showConfirmation[0].toString(),10)),this.showConfirmation=void 0);}):this.showConfirmation=[e,n];}setPermanentFilter(e){!this.currentPermanentFilter.length||this.currentPermanentFilter!==e?this.currentPermanentFilter=e:this.currentPermanentFilter="",this.permanentFilterApplied.emit(this.currentPermanentFilter);}highlightRelatedDocuments(e,n="hide"){let t=(o,S)=>{switch(S){case"show":this.permanentFilterApplied.emit(""),this.mouseoverSearch.emit(o.query);break;case"hide":this.mouseoverSearch.emit(this.currentSearchStringInInput),this.permanentFilterApplied.emit(this.currentPermanentFilter);break;}};clearTimeout(this.timeoutHandler),this.currentPermanentFilter.length&&n==="show"?this.timeoutHandler=setTimeout(()=>{t(e,n);},1e3):t(e,n);}setHintRead(){this.settingsService.updateSettingsItem("hiddenSearchHintRead",!0);}getHintRead(){return!!this.settingsService.settings?.hiddenSearchHintRead;}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-list-searches"]],inputs:{searches:"searches"},outputs:{mouseoverSearch:"mouseoverSearch",permanentFilterApplied:"permanentFilterApplied"},decls:5,vars:2,consts:()=>{let e;e=" Confirm search deletion";let n;n=" What's relevant in this case? ";let t;t="Enter all search words related to the topics of interest within this case. This can be done either in advance or even while a document import is in running. "+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD]"+""+"[\uFFFD#10\uFFFD\uFFFD/#10\uFFFD|\uFFFD#11\uFFFD\uFFFD/#11\uFFFD]"+" All searches will be executed and highlighted across all documents once imports have been completed.",t=ee(t);let o;o="Show only matching documents";let S;return S="Delete search word",[e,n,t,["type","warning",3,"fastLaneAllowed","showCancelBtn"],[1,"mt-pxpx","opacity-0","transition-opacity","duration-1000","select-none",3,"opacity-100"],["role","list",1,"list","grid","grid-cols-1","gap-x-1.5","space-y-0.5","gap-y-0.5","pb-2","pr-2"],["type","warning",3,"cancellation","confirmation","fastLaneAllowed","showCancelBtn"],[1,"mt-pxpx","opacity-0","transition-opacity","duration-1000","select-none"],[1,"min-h-[364px]","border-2","border-indigo-600","rounded","bg-indigo-400/25","dark:bg-indigo-700/25","pb-2"],[1,"flex"],[1,"grow","text-2xl","pt-4","pl-4","text-indigo-800","dark:text-indigo-500","font-normal"],[1,"text-right","pt-1"],["styling","standard_outline","icon","x-lg",1,"scale-50","inline-block",3,"clicked"],[1,"p-4"],[1,"pr-16","text-xl","font-light"],[1,"bg-indigo-50","dark:bg-indigo-500/10","shadow","rounded-md","overflow-hidden"],[1,"flex","h-full"],[1,"searchcolor","overflow-hidden","flex","items-center","transition-color","duration-300","opacity-90","hover:opacity-100","cursor-pointer","w-20","h-full","pl-2",3,"mouseover","mouseout","rwColorize"],[3,"search"],[1,"py-2","dark:py-[7px]","min-h-[60px]","flex-grow","flex","items-center","whitespace-nowrap","dark:border","dark:border-l-0","border-slate-800"],[1,"pl-2","flex-grow"],[1,"capitalize","overflow-hidden","max-w-full","truncate","leading-none"],[1,"searchWord","hidden","max-w-[74px]","truncate","select-none"],[1,"pr-2"],["icon","filter","title",o,1,"mr-2","hidden","md:inline-block",3,"styling"],["icon","trash3","styling","standard_outline","title",S,1,"md:inline-block",3,"error"],["icon","filter","title",o,1,"mr-2","hidden","md:inline-block",3,"clicked","styling"],["icon","trash3","styling","standard_outline","title",S,1,"md:inline-block",3,"clicked","error"]];},template:function(n,t){n&1&&(E(0,_n,2,2,"rw-alert",3)(1,rn,12,2,"div",4),_(2,"ul",5),I(3,cn,1,1,null,null,y),r()),n&2&&(C(t.showConfirmation?0:-1),a(),C(!t.searches.length&&!t.getHintRead()?1:-1),a(2),x(t.searches));},dependencies:[B,A,H,pt],styles:["@media screen and (min-width: 480px){.list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media screen and (min-width: 768px){.list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}}@media screen and (min-width: 1400px){.list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{margin-top:2px}}rw-button[icon=trash3][_ngcontent-%COMP%]{display:none}@media screen and (min-width: 200px){rw-button[icon=trash3][_ngcontent-%COMP%]{display:inline-block}}@media screen and (min-width: 278px){.searchWord[_ngcontent-%COMP%]{display:inline-block}}@media screen and (min-width: 318px){.searchWord[_ngcontent-%COMP%]{max-width:116px}}@media screen and (min-width: 400px){.searchWord[_ngcontent-%COMP%]{max-width:198px}}@media screen and (min-width: 480px){.searchWord[_ngcontent-%COMP%]{max-width:64px}}@media screen and (min-width: 550px){.searchWord[_ngcontent-%COMP%]{max-width:100px}}@media screen and (min-width: 612px){.searchWord[_ngcontent-%COMP%]{max-width:130px}}@media screen and (min-width: 730px){.searchWord[_ngcontent-%COMP%]{max-width:192px}}@media screen and (min-width: 768px){.searchWord[_ngcontent-%COMP%]{max-width:95px}}@media screen and (min-width: 860px){.searchWord[_ngcontent-%COMP%]{max-width:142px}}@media screen and (min-width: 960px){.searchWord[_ngcontent-%COMP%]{max-width:189px}}@media screen and (min-width: 1024px){.searchWord[_ngcontent-%COMP%]{max-width:223px}}@media screen and (min-width: 1144px){.searchWord[_ngcontent-%COMP%]{max-width:282px}}@media screen and (min-width: 1400px){.searchWord[_ngcontent-%COMP%]{max-width:95px}}@media screen and (min-width: 1492px){.searchWord[_ngcontent-%COMP%]{max-width:130px}}@media screen and (min-width: 1556px){.searchWord[_ngcontent-%COMP%]{max-width:146px}}@media screen and (min-width: 1676px){.searchWord[_ngcontent-%COMP%]{max-width:174px}}@media screen and (min-width: 2076px){.searchWord[_ngcontent-%COMP%]{max-width:274px}}@media screen and (min-width: 2176px){.searchWord[_ngcontent-%COMP%]{max-width:298px}}"]});}return i;})();function dn(i,u){i&1&&D(0,"rw-loader");}function un(i,u){if(i&1){let e=p();_(0,"rw-overlay",11)(1,"rw-create-document",21),d("initiated",function(){l(e);let t=s(2);return c(t.dragging=!1);}),r()();}i&2&&m("highestZ",!0);}function mn(i,u){if(i&1&&(_(0,"div",25),R(1," -"),_(2,"span",26),R(3),r(),_(4,"span"),R(5),r()()),i&2){let e=u.$implicit,n=s(3);a(3),b("\xA0",e.description,"\xA0"),a(2),P(n.importErrorDescriptions[e.error]);}}function Sn(i,u){if(i&1){let e=p();_(0,"rw-alert",22),d("confirmation",function(){l(e);let t=s(2);return c(t.flushErrors());}),_(1,"div",23)(2,"div",24),M(3,0),r(),I(4,mn,6,2,"div",25,y),r()();}if(i&2){let e=s(2);m("showCancelBtn",!1)("type","warning"),a(4),x(e.importErrors);}}function Cn(i,u){if(i&1){let e=p();_(0,"rw-alert",27),d("confirmation",function(){l(e);let t=s(2);return c(t.unlockFile());})("cancellation",function(){l(e);let t=s(2);return c(t.cancelUnlockFile());}),_(1,"div",28)(2,"span",29),R(3),r(),_(4,"span",30),M(5,1),r()(),_(6,"div",31)(7,"rw-input",32),K("valueChange",function(t){l(e);let o=s(2);return V(o.password,t)||(o.password=t),c(t);}),r()()();}if(i&2){let e=s(2);m("showCancelBtn",!0)("type","unlock"),a(3),P(e.fileThatRequiresUnlock),a(4),m("autoFocus",!0),W("value",e.password),m("id","docpw");}}function pn(i,u){i&1&&(_(0,"rw-alert",14)(1,"div",28),M(2,2),r()()),i&2&&m("showCancelBtn",!1)("showConfirmBtn",!1)("type","info");}function En(i,u){if(i&1){let e=p();_(0,"rw-result-distribution",33),d("closed",function(){l(e);let t=s(2);return c(t.showCaseDistributions=!1);}),r();}if(i&2){let e=s(2);m("forCase",!0)("document",e.fakeDocument);}}function hn(i,u){if(i&1){let e=p();_(0,"rw-page",3),se(1,4),_(2,"h3",5),R(3),r(),E(4,dn,1,0,"rw-loader"),_(5,"rw-button",6),d("clicked",function(){l(e);let t=s();return c(t.dragging=!0);}),r(),D(6,"rw-button",7)(7,"rw-button",8)(8,"rw-button",9),ae(),se(9,10),E(10,un,2,1,"rw-overlay",11),_(11,"section",12),E(12,Sn,6,2,"rw-alert",13)(13,Cn,8,6,"rw-alert",13)(14,pn,3,3,"rw-alert",14)(15,En,1,2,"rw-result-distribution",15),_(16,"rw-dashboard",16)(17,"rw-filter-documents",17),d("currentFileFilterInput",function(t){l(e);let o=s();return c(o.currentFileFilterInput=t);}),r(),D(18,"rw-list-documents",18),_(19,"rw-filter-or-create-searches",19),d("currentSearch",function(t){l(e);let o=s();return c(o.currentSearchInSearchInput=t);})("searchMatchDistribution",function(){l(e);let t=s();return t.createFakeDocument(),c(t.showCaseDistributions=!0);}),r(),_(20,"rw-list-searches",20),d("permanentFilterApplied",function(t){l(e);let o=s();return c(o.applyPermanentDocumentFilter(t));})("mouseoverSearch",function(t){l(e);let o=s();return c(o.currentSearchInSearchInput=t);}),r()()(),ae(),r();}if(i&2){let e=s();m("showQr",!e.isProcessing)("showNavigation",!0),a(3),P(e.case.title),a(),C(e.isProcessing?4:-1),a(6),C(e.dragging?10:-1),a(2),C(e.importErrors.length?12:-1),a(),C(e.fileThatRequiresUnlock?13:-1),a(),C(e.caseDeleted?14:-1),a(),C(e.showCaseDistributions&&e.fakeDocument?15:-1),a(),m("documentCount",e.documents.length)("searchCount",e.searches.length),a(2),m("isFiltering",e.currentFileFilterInput.length>0)("documents",e.documents)("permanentFilteredDocuments",e.permanentFilteredDocuments)("currentSearchInSearchInput",e.currentSearchInSearchInput)("documentProcessingInfo",e.documentProcessingInfo),a(),m("searches",e.searches),a(),m("searches",e.searches);}}var Yo=(()=>{class i{caseService=g(ze);documentService=g($);searchService=g(k);subscriptionStorage=g(Xe);iaService=g(ie);router=g(Ve);activatedRoute=g(We);changeDetector=g(Ue);socket=g(_e);case;documents=[];totalDocumentCount=0;searches=[];totalSearchCount=0;Math=Math;permanentFilteredDocuments=!1;currentSearchInSearchInput="";importErrors=[];documentProcessingInfo={};isProcessing=!1;currentFileFilterInput="";fileThatRequiresUnlock;password="";caseDeleted=!1;importErrorDescriptions={FILE_FOR_CASE_EXISTS:"was recently imported"};showCaseDistributions;fakeDocument;hasProcessedDocuments=!1;dragging=!1;protectedFiles=[];everHadDocumentsFetched=!1;iaLayer="screen-case-"+new Date().getTime();close(){this.dragging?this.dragging=!1:this.iaService.is(this.iaLayer)&&!this.importErrors.length&&this.router.navigate(["../"],{replaceUrl:!0});}dragEnter(){this.dragging=!0;}constructor(){this.createSubscriptions(),this.loadCurrentCase(),this.iaService.add(this.iaLayer);}ngOnInit(){this.checkForProcessedDocuments();}applyPermanentDocumentFilter(e){this.currentSearchInSearchInput=e,e.length?this.permanentFilteredDocuments=!0:this.permanentFilteredDocuments=!1;}unlockFile(){this.fileThatRequiresUnlock&&(this.socket.emit(this.fileThatRequiresUnlock,this.password),this.password="",this.removeFileFromUnlockQueue(this.fileThatRequiresUnlock),this.unlockNextFile());}cancelUnlockFile(){this.fileThatRequiresUnlock&&(this.password="",this.removeFileFromUnlockQueue(this.fileThatRequiresUnlock),this.socket.emit("cancel"+this.fileThatRequiresUnlock),this.unlockNextFile());}checkForProcessedDocuments(){this.documents.some(e=>(this.hasProcessedDocuments=e.processed,e.processed));}flushErrors(){this.importErrors=[],this.changeDetector.detectChanges();}ngOnDestroy(){this.subscriptionStorage.destroy("screenCase"),this.iaService.take(this.iaLayer),this.documentService.resetFilter();}unlockNextFile(){this.fileThatRequiresUnlock=void 0,this.protectedFiles.length>0&&setTimeout(()=>{this.fileThatRequiresUnlock=this.protectedFiles[0];},750);}removeFileFromUnlockQueue(e){this.protectedFiles.splice(this.protectedFiles.indexOf(e),1);}loadCurrentCase(){this.caseService.fetchById(this.activatedRoute.snapshot.params.caseId).subscribe(e=>{this.case=e,this.documentService.setCaseId(this.case.id),this.searchService.setCaseId(this.case.id);let n=this.socket.fromEvent("caseToDelete-"+this.case.id).subscribe(()=>{this.caseDeleted=!0,setTimeout(()=>{this.router.navigateByUrl("../");},4500);});this.subscriptionStorage.add("screenCase",n);});}createFakeDocument(){this.caseService.fetchSearches(this.case.id,"DESC").subscribe(e=>{e.length&&(this.fakeDocument={caseId:this.searchService.getCaseId()??0,searchMatches:e.map(n=>({id:n.id,query:n.query,color:n.color})),pageCount:0,pages:[],id:0,originalName:this.case.title,fileSize:0,processed:!0,creationDate:new Date().toISOString()});});}createSubscriptions(){let e=this.documentService.subscribeToProcessingUpdates().subscribe(w=>{this.documentProcessingInfo=w,this.isProcessing=Object.keys(w).length!==0;}),n=this.documentService.subscribeToRelevantChanges().subscribe(w=>{this.documents=w,this.documents.length===0&&!this.everHadDocumentsFetched?(this.everHadDocumentsFetched=!0,this.dragging=!0):this.documents.length>0&&(this.everHadDocumentsFetched=!0),this.checkForProcessedDocuments(),this.currentFileFilterInput.length||(this.totalDocumentCount=w.length),this.changeDetector.detectChanges();}),t=this.documentService.subscribeToDocumentCounter().subscribe(w=>{w===0&&this.totalDocumentCount>0&&this.documentService.resetFilter(),this.totalDocumentCount=w,this.changeDetector.detectChanges();}),o=this.documentService.subscribeToErrors().subscribe(w=>{this.importErrors=w,this.changeDetector.detectChanges();}),S=this.documentService.subscribeToImportCompleted().subscribe(()=>{this.changeDetector.detectChanges();}),h=this.searchService.subscribeToRelevantChanges().subscribe(w=>{this.searches=w,this.createFakeDocument(),this.changeDetector.detectChanges();}),T=this.searchService.subscribeToSearchesCounter().subscribe(w=>{this.totalSearchCount=w,this.changeDetector.detectChanges();}),U=this.searchService.subscribeToSearchOperationCompleted().subscribe(()=>{this.documentService.loadFilteredDocumentsByCaseId();}),L=this.socket.fromEvent("documentRequiresPassword").subscribe(w=>{this.protectedFiles.push(w),this.fileThatRequiresUnlock||(this.fileThatRequiresUnlock=w);}),F=this.subscriptionStorage.getStore("screenCase");F.push(e),F.push(n),F.push(t),F.push(o),F.push(S),F.push(h),F.push(T),F.push(U),F.push(L);}static ɵfac=function(n){return new(n||i)();};static ɵcmp=f({type:i,selectors:[["rw-sub-screen-case"]],hostBindings:function(n,t){n&1&&d("keydown.escape",function(S){return t.close(S);},!1,fe)("dragenter",function(S){return t.dragEnter(S);},!1,q);},decls:1,vars:1,consts:()=>{let e;e="Open file importer";let n;n="Open all bookmarks";let t;t="Open all notes";let o;o="Close current file (ESC)";let S;S="Some files failed to import:";let h;h="Password";let T;T="Enter password to unlock the protected document";let U;U="requires a password";let L;return L="This case was deleted in another window. The case overview is now being opened...",[S,U,L,[3,"showQr","showNavigation"],["header",""],[1,"flex-grow","pl-3","md:pt-0","capitalize","text-2xl","md:text-4xl"],["title",e,"icon","plus-square-fill","styling","standard_outline",1,"mr-3",3,"clicked"],["title",n,"routerLink","./bookmarks","icon","bookmarks","styling","standard_outline",1,"mr-3"],["title",t,"routerLink","./notes","icon","file-text","styling","standard_outline",1,"mr-3"],["title",o,"routerLink","../","icon","x-lg","styling","standard_outline",1,"mr-3"],["main",""],[3,"highestZ"],["aria-labelledby","primary-heading",1,"min-w-0","flex-1","h-full","flex","flex-col","lg:order-last"],[3,"showCancelBtn","type"],[3,"showCancelBtn","showConfirmBtn","type"],[3,"forCase","document"],[3,"documentCount","searchCount"],["docControls","",1,"",3,"currentFileFilterInput"],["docList","",3,"isFiltering","documents","permanentFilteredDocuments","currentSearchInSearchInput","documentProcessingInfo"],["searchControls","",3,"currentSearch","searchMatchDistribution","searches"],["searchList","",3,"permanentFilterApplied","mouseoverSearch","searches"],[1,"fullscreen",3,"initiated"],[3,"confirmation","showCancelBtn","type"],[1,"text-left","max-h-[400px]","overflow-y-scroll"],[1,"font-bold","text-lg","mb-2"],[1,"text-left"],[1,"font-bold"],[3,"confirmation","cancellation","showCancelBtn","type"],[1,"text-lg"],[1,"inline-block","px-1","font-bold"],[1,"inline-block","pl-1"],[1,"pt-3","text-left"],["inputType","password","label",h,"placeholder",T,3,"valueChange","autoFocus","value","id"],[3,"closed","forCase","document"]];},template:function(n,t){n&1&&E(0,hn,21,18,"rw-page",3),n&2&&C(t.case?0:-1);},dependencies:[Ye,qe,A,te,oe,rt,B,z,et,at,lt,dt,Ct,Et],encapsulation:2});}return i;})();export{rt as a,lt as b,ut as c,Ct as d,Yo as e};/**i18n:1964dde12af7df15d0053ab7761c4e4c56fe7eae085ef9e01bc7588ce5d2189d*/