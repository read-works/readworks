import{a as v}from"./chunk-SPOPGUET.js";import{a as Z}from"./chunk-3L6YD2WL.js";import{a as V}from"./chunk-O2ZDC4GV.js";import{a as oe}from"./chunk-TDQXEY2E.js";import{b as q,c as J,d as ee,e as _e,f as te,g as ie,h as ne}from"./chunk-G3MELPCC.js";import{b as Q}from"./chunk-PM5VPY4S.js";import{A as S,C as $,Ia as N,Ja as I,Ka as f,Ma as B,N as a,Na as H,Oa as X,Ta as P,U as T,Ua as b,Wa as K,Z as g,aa as d,ca as W,eb as z,ga as O,ha as k,ia as G,ja as U,ka as i,la as r,ma as R,mb as F,na as D,oa as h,ob as M,pa as A,sa as m,w as l,wa as E,wb as Y,xa as C,xb as w,yb as j,z as c}from"./chunk-V52KVE3Z.js";var re=(()=>{class n{caseService=l(v);router=l(M);close=new $();caseTitle="";caseStatusMessage={created:"Created",deleted:"Deleted",modified:"Modified"};save(){this.caseTitle&&this.caseTitle.length&&(this.caseService.create(this.caseTitle),this.close.emit());}static ɵfac=function(t){return new(t||n)();};static ɵcmp=T({type:n,selectors:[["rw-create-case"]],outputs:{close:"close"},decls:14,vars:7,consts:()=>{let e;e="File title";let t;t="Title of my new file";let _;_="Create";let s;return s=" Create new file ",[s,["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","z-10","inset-0","overflow-y-auto",3,"keyup"],[1,"flex","items-end","justify-center","min-h-screen","pt-2","px-2","pb-20","text-center","sm:block","sm:p-0"],["aria-hidden","true",1,"fixed","inset-0","bg-slate-500","dark:bg-slate-900","bg-opacity-90","dark:bg-opacity-90","transition-opacity"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"relative","inline-block","align-bottom","bg-white","dark:bg-slate-900","dark:border","border-slate-600","rounded-lg","px-4","pt-5","pb-4","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full","sm:p-6"],["id","modal-title",1,"text-lg","leading-6","mb-3","font-medium","text-slate-900","dark:text-slate-50"],[3,"submit"],["label",e,"id","title","placeholder",t,"inputType","text",3,"valueChange","value","autoFocus"],[1,"mt-5","sm:mt-6","sm:grid","sm:grid-cols-2","sm:gap-3","sm:grid-flow-row-dense"],["styling","standard_outline","label","Cancel",3,"click","block","textCenter"],["label",_,1,"disabled:opacity-25","disabled:border-r-red-400","disabled:bg-blue-500",3,"clicked","disabled","block","textCenter"]];},template:function(t,_){t&1&&(i(0,"div",1),E("keyup",function(o){return o.key==="Escape"?_.close.emit():null;}),i(1,"div",2),R(2,"div",3),i(3,"span",4),N(4,"\u200B"),r(),i(5,"div",5)(6,"div")(7,"h3",6),m(8,0),r(),i(9,"form",7),E("submit",function(){return _.save();}),i(10,"rw-input",8),X("valueChange",function(o){return H(_.caseTitle,o)||(_.caseTitle=o),o;}),r()()(),i(11,"div",9)(12,"rw-button",10),E("click",function(){return _.close.emit();}),r(),i(13,"rw-button",11),E("clicked",function(){return _.save();}),r()()()()()),t&2&&(a(10),B("value",_.caseTitle),d("autoFocus",!0),a(2),d("block",!0)("textCenter",!0),a(),d("disabled",!_.caseTitle||!_.caseTitle.length)("block",!0)("textCenter",!0));},dependencies:[ie,te,ee,_e,ne,w],encapsulation:2});}return n;})();function se(n,p){n&1&&R(0,"rw-loader");}function Ee(n,p){if(n&1){let e=A();i(0,"rw-button",16),E("clicked",function(){c(e);let _=C();return S(_.createCase=!0);}),r();}}function le(n,p){if(n&1){let e=A();i(0,"rw-alert",17),E("cancellation",function(){c(e);let _=C();return S(_.showConfirmation=void 0);})("confirmation",function(){c(e);let _=C();return S(_.delete(_.showConfirmation));}),m(1,1),r();}n&2&&d("fastLaneAllowed",!0)("showCancelBtn",!0);}function Ce(n,p){if(n&1){let e=A();i(0,"rw-alert",18),E("confirmation",function(){c(e);let _=C();return S(_.caseError=void 0);}),i(1,"div",19)(2,"span",20),m(3,2),r(),i(4,"span",21),N(5),r(),i(6,"span",22),N(7),r()()();}if(n&2){let e=C();d("showCancelBtn",!1)("type","error"),a(5),I(e.caseError.description),a(2),I(e.caseErrorDescriptions[e.caseError.error]);}}function ce(n,p){if(n&1){let e=A();i(0,"rw-create-case",23),E("close",function(){c(e);let _=C();return S(_.closeCreateView());}),r();}}function Se(n,p){if(n&1){let e=A();i(0,"div",12),R(1,"rw-icon",24),i(2,"h3",25),m(3,3),r(),i(4,"p",26),m(5,4),r(),i(6,"div",27)(7,"rw-button",28),E("clicked",function(){c(e);let _=C();return S(_.createCase=!0);}),r()()();}}function de(n,p){if(n&1){let e=A();i(0,"li",29),E("click",function(_){let s=c(e).$implicit,o=C();return S(o.openCase(_,s.id));}),i(1,"div",30)(2,"div",31)(3,"div",32)(4,"h3",33),R(5,"rw-icon",34),N(6),r(),i(7,"div",35),R(8,"rw-icon",36),N(9),P(10,"date"),R(11,"br")(12,"rw-icon",37),N(13),P(14,"dateAgo"),r()()()(),i(15,"div")(16,"rw-button",38),E("clicked",function(){let _=c(e).$implicit,s=C();return S(s.delete(_.id));}),r()()();}if(n&2){let e=p.$implicit;a(4),W("text-xs",e.title.length>=32)("text-normal",e.title.length<32&&e.title.length>=20)("text-lg",e.title.length<20&&e.title.length>=14)("text-xl",e.title.length<14),a(2),f(" ",e.title," "),a(3),f(" ",b(10,12,e.createdAt)," "),a(4),f(" ",b(14,14,e.updatedAt)," "),a(3),d("error",!0);}}var Ge=(()=>{class n{caseService=l(v);documentService=l(V);subscriptionStorage=l(J);changeDetector=l(K);router=l(M);route=l(F);cases;createCase=!1;dataFetched=!1;openSidebar=!1;openNewCase=!1;showConfirmation;isProcessing=!1;caseError;caseErrorDescriptions={CASE_ALREADY_EXISTS:"already exists"};constructor(){let e=l(V),t=l(q);e.destroyCaches(),t.destroyCaches(),this.createSubscriptions(),this.caseService.loadAllCases();}delete(e){this.showConfirmation?(this.caseService.delete(this.showConfirmation),this.showConfirmation=void 0):this.showConfirmation=e;}closeCreateView(){this.createCase=!1,this.openNewCase=!0;}ngOnDestroy(){this.subscriptionStorage.destroy("screenCaseOverview"),this.caseService.destroyCaches();}openCase(e,t){e.target===e.currentTarget&&this.router.navigate([t],{relativeTo:this.route});}createSubscriptions(){let e=this.caseService.subscribeToRelevantChanges().subscribe(o=>{this.dataFetched=!0,this.openNewCase&&o.length>this.cases.length&&(this.openNewCase=!1,this.router.navigate(["cases/"+o[0].id])),this.cases=o,this.changeDetector.detectChanges();}),t=this.documentService.subscribeToProcessingUpdates().subscribe(o=>{this.isProcessing=Object.keys(o).length!==0;}),_=this.caseService.subscribeToCaseError().subscribe(o=>{this.caseError=o;}),s=this.subscriptionStorage.getStore("screenCaseOverview");s.push(e),s.push(_),s.push(t);}static ɵfac=function(t){return new(t||n)();};static ɵcmp=T({type:n,selectors:[["rw-screen-cases-overview"]],decls:16,vars:6,consts:()=>{let e;e="Create File";let t;t="Files";let _;_=" Confirm file deletion. All documents and searches will be removed. ";let s;s="The file ";let o;o="New File";let x;x=" No files ";let L;L=" Get started by creating a new file ";let y;return y="Delete file",[t,_,s,x,L,["header",""],[1,"flex-grow","pl-3","md:pt-0","capitalize","text-2xl","md:text-4xl"],["icon","collection","label",e,1,"mr-3"],["main",""],["type","warning",3,"fastLaneAllowed","showCancelBtn"],[3,"showCancelBtn","type"],["aria-labelledby","primary-heading",1,"min-w-0","flex-1","h-full","flex","flex-col","lg:order-last"],[1,"text-center","pt-6"],[1,"mt-3"],["role","list",1,"grid","grid-cols-1","gap-3","sm:grid-cols-2","lg:grid-cols-3"],[1,"transition-colors","duration-300","case","cursor-pointer","flex","items-center","p-1.5","px-2","col-span-1","bg-white","dark:bg-black/20","rounded-lg","shadow","dark:border","border-slate-800","hover:bg-indigo-50","hover:dark:bg-indigo-500/10"],["icon","collection","label",e,1,"mr-3",3,"clicked"],["type","warning",3,"cancellation","confirmation","fastLaneAllowed","showCancelBtn"],[3,"confirmation","showCancelBtn","type"],[1,"text-lg"],[1,"inline-block","pl-1"],[1,"inline-block","px-1","font-bold","capitalize"],[1,"inline-block"],[3,"close"],["icon","collection","size","xlarge"],[1,"mt-2","text-sm","font-medium","text-slate-900","dark:text-slate-300"],[1,"mt-1","text-sm","text-slate-500"],[1,"mt-6"],["id","firstCase","label",o,"iconRight","plus-lg",3,"clicked"],[1,"transition-colors","duration-300","case","cursor-pointer","flex","items-center","p-1.5","px-2","col-span-1","bg-white","dark:bg-black/20","rounded-lg","shadow","dark:border","border-slate-800","hover:bg-indigo-50","hover:dark:bg-indigo-500/10",3,"click"],[1,"pointer-events-none","flex-grow","flex","items-center","justify-between","space-x-3"],[1,"flex-1","truncate"],[1,"flex","items-center","space-x-3","pl-1"],[1,"overflow-hidden","text-ellipsis","grow","font-medium","truncate","capitalize","leading-tight","dark:text-indigo-300"],["icon","collection",1,"mr-1"],[1,"leading-tight","scale-90","ml-px","origin-left","text-slate-300","dark:text-slate-700","text-sm","truncate"],["icon","folder-plus"],["icon","pen"],["icon","trash3","title",y,"styling","standard_outline",1,"ml-2","inline-block",3,"clicked","error"]];},template:function(t,_){t&1&&(i(0,"rw-page"),D(1,5),i(2,"h3",6),m(3,0),r(),g(4,se,1,0,"rw-loader")(5,Ee,1,0,"rw-button",7),h(),D(6,8),g(7,le,2,2,"rw-alert",9)(8,Ce,8,4,"rw-alert",10),i(9,"section",11),g(10,ce,1,0,"rw-create-case")(11,Se,8,0,"div",12),i(12,"div",13)(13,"ul",14),G(14,de,17,16,"li",15,k),r()()(),h(),r()),t&2&&(a(4),O(_.isProcessing?4:-1),a(),O(_.cases&&_.cases.length?5:-1),a(2),O(_.showConfirmation?7:-1),a(),O(_.caseError?8:-1),a(2),O(_.createCase?10:-1),a(),O(_.dataFetched&&(!_.cases||!_.cases.length)?11:-1),a(3),U(_.cases));},dependencies:[Q,Z,w,j,re,Y,z,oe],encapsulation:2});}return n;})();export{re as a,Ge as b};/**i18n:1964dde12af7df15d0053ab7761c4e4c56fe7eae085ef9e01bc7588ce5d2189d*/